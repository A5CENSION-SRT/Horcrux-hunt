{% extends "base.html" %}

{% block stylesheets %}
  {{ super() }}
  <style>
    @font-face {
      font-family: 'PokemonSolid';
      src: url('/themes/core-beta/static/webfonts/PokemonSolidNormal.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }
    
    body {
        background-color: #000;
    }
    
    .jumbotron {
        background: linear-gradient(135deg, #03213b 0%, #02203a 100%);
        color: #9e7f56;
        padding: 2rem 1rem;
        border-bottom: 5px solid #9e7f56;
        margin-bottom: 2rem;
        border-radius: 0;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .jumbotron h1,
    .jumbotron .h1 {
        font-family: 'PokemonSolid', Arial, sans-serif;
        font-weight: normal;
        text-shadow: 3px 3px 0px #02203a, 2px 2px 4px rgba(0, 0, 0, 0.8);
        text-transform: uppercase;
    }
    
    .container {
        background: rgba(3, 33, 59, 0.95);
        border-radius: 15px;
        padding: 2rem 3rem;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
        margin-bottom: 2rem;
        border: 4px solid #333333;
    }
    
    .form-label {
      font-family: 'PokemonSolid', Arial, sans-serif;
      font-weight: normal;
      color: #9e7f56;
      font-size: 1.1rem;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);
      text-transform: uppercase;
    }
    
    .form-control, 
    .form-control:focus, 
    .form-control:active,
    .form-control:focus-visible {
      background-color: rgba(255, 255, 255, 0.9) !important;
      border: 3px solid #333333 !important;
      border-radius: 8px !important;
      color: #03213b !important;
      font-weight: bold !important;
      box-shadow: none !important;
    }
    .form-control:focus {
      background-color: white !important;
      border-color: #04223c !important;
      box-shadow: 0 0 0 0.25rem rgba(4, 34, 60, 0.25) !important;
    }
    
    .btn-primary {
      font-family: 'PokemonSolid', Arial, sans-serif;
      background-color: #9e7f56;
      color: #03213b;
      border: 3px solid #333333;
      padding: 0.8rem 2rem;
      font-size: 1.2rem;
      border-radius: 30px;
      font-weight: normal;
      text-transform: uppercase;
      transition: all 0.3s ease;
      box-shadow: 0 4px 0 #02203a;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);
    }
    .btn-primary:hover {
      background-color: #b8936b;
      color: #041f3a;
      transform: translateY(-2px);
      box-shadow: 0 6px 0 #02203a;
      text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.8);
    }
    
    p {
      color: #9e7f56;
      font-family: 'PokemonSolid', Arial, sans-serif;
      text-transform: uppercase;
      font-size: 0.9rem;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);
    }
  </style>
{% endblock %}

{% block content %}
  <div class="jumbotron">
    <div class="container">
      <h1>
        {% trans %}Reset Password{% endtrans %}
      </h1>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-md-6 offset-md-3">
        {% include "components/errors.html" %}

        {% if mode == "set" %}
          {% with form = Forms.auth.ResetPasswordForm() %}
            <form method="post" accept-charset="utf-8" role="form" class="form-horizontal">
              <p>
                {% trans %}You can now reset the password for your account and log in. Please enter in a new password below.{% endtrans %}
              </p>

              <div class="mb-3">
                {{ form.password.label(class="form-label") }}
                {{ form.password(class="form-control", autocomplete="new-password") }}
              </div>

              <div class="row pt-3">
                <div class="col-6 col-md-4 offset-6 offset-md-8">
                  {{ form.submit(class="btn btn-block btn-primary w-100") }}
                </div>
              </div>

              {{ form.nonce() }}
            </form>

          {% endwith %}
        {% else %}
          {% with form = Forms.auth.ResetPasswordRequestForm() %}

            <form method="post" accept-charset="utf-8" autocomplete="off" role="form" class="form-horizontal">
              <p>
                {% trans %}Please provide the email address associated with your account below.{% endtrans %}
              </p>

              <div class="mb-3">
                {{ form.email.label(class="form-label") }}
                {{ form.email(class="form-control ") }}
              </div>

              <div class="row pt-3">
                <div class="col-6 col-md-4 offset-6 offset-md-8">
                  {{ form.submit(class="btn btn-block btn-primary w-100") }}
                </div>
              </div>

              {{ form.nonce() }}
            </form>

          {% endwith %}
        {% endif %}
      </div>
    </div>
  </div>
{% endblock %}
