import{d as u,m as l,C as s}from"./index.57414f51.js";import{c as g,m as y,e as x}from"./index.b66e08ab.js";import"./echarts.128204f2.js";function S(r,t,d){let i={color:["#ffd733","#3B4CCA","#E3350D","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f"],backgroundColor:"transparent",textStyle:{color:"#ffd733"},title:{left:"center",text:"Top 10 "+(r==="teams"?"Teams":"Users"),textStyle:{color:"#ffd733",fontFamily:"Pokemon Solid, sans-serif",fontSize:20}},tooltip:{trigger:"axis",backgroundColor:"rgba(0, 0, 0, 0.8)",borderColor:"#ffd733",textStyle:{color:"#ffd733"},axisPointer:{type:"cross"}},legend:{type:"scroll",orient:"horizontal",align:"left",bottom:35,data:[],textStyle:{color:"#ffd733"}},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"20%",containLabel:!0},xAxis:[{type:"time",boundaryGap:!1,data:[],axisLine:{lineStyle:{color:"#3B4CCA"}},axisLabel:{color:"#ffd733",textStyle:{color:"#ffd733"}},splitLine:{show:!1}}],yAxis:[{type:"value",axisLine:{lineStyle:{color:"#3B4CCA"}},axisLabel:{color:"#ffd733",textStyle:{color:"#ffd733"}},splitLine:{lineStyle:{color:"rgba(255,255,255,0.1)"}},min:0,scale:!0}],dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0],filterMode:"filter",height:20,top:35,fillerColor:"rgba(255, 215, 0, 0.3)",handleStyle:{color:"#ffd733"},textStyle:{color:"#ffd733"}}],series:[]};const o=Object.keys(t);for(let e=0;e<o.length;e++){const c=[],f=[];for(let a=0;a<t[o[e]].solves.length;a++){c.push(t[o[e]].solves[a].value);const n=u(t[o[e]].solves[a].date);f.push(n.toDate())}const h=g(c);let m=f.map(function(a,n){return[a,h[n]]});i.legend.data.push(t[o[e]].name);const b={name:t[o[e]].name,type:"line",label:{normal:{position:"top"}},lineStyle:{width:3},symbol:"none",data:m};i.series.push(b)}return d&&(i=y(i,d)),i}window.Alpine=l;window.CTFd=s;const p=window.scoreboardUpdateInterval||3e5;l.data("ScoreboardDetail",()=>({data:{},show:!0,activeBracket:null,async update(){this.data=await s.pages.scoreboard.getScoreboardDetail(10,this.activeBracket);let r=window.scoreboardChartOptions,t=S(s.config.userMode,this.data,r);x(this.$refs.scoregraph,t),this.show=Object.keys(this.data).length>0},async init(){this.update(),setInterval(()=>{this.update()},p)}}));l.data("ScoreboardList",()=>({standings:[],brackets:[],activeBracket:null,async update(){this.brackets=await s.pages.scoreboard.getBrackets(s.config.userMode),this.standings=await s.pages.scoreboard.getScoreboard()},async init(){this.$watch("activeBracket",r=>{this.$dispatch("bracket-change",r)}),this.update(),setInterval(()=>{this.update()},p)}}));l.start();
